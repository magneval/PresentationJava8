// ---
// layout: master
// title: Présentation VM et docker
// :backend: deckjs
// ---
:revealjs_mouseWheel: true
:revealjsdir: .
:revealjs_history: true
:revealjs_hideAddressBar: true
:linkattrs:
:imagesdir: ./images
:source-highlighter: highlightjs

= Présentation Java 8

== Présentation des nouveauté de Java8

Charles de MAGNEVAL +
Charles.de_magneval@open-groupe.com +
v1.0, 2017-04-10 +
 +
https://github.com/magneval/

=== Plan
[%step]
* +++<s>Jigsaw</s>+++ les profiles
* Nashhorn
* évolutions des annotations
* l'API java.time
* la programmation fonctionnelle
* les Streams
* le future

== Les Profiles
Pas encore Jigsaw

Mais l’instruction de la notion de profils, qui permet un sous découpage de la VM

.Il existe 3 profils
image::CompactProfiles.png[Il existe 3 profils]

== Java SE8 compact profils

[options="header,footer"]

[cols="1a,1a,1a", width="100%"]
|===
| compact1                    | compact2                   | compact3
| java.io                     | java.sql                   | java.lang.instrument
| java.lang

* annotation
* invoke
* ref
* reflect
                              | java.rmi

*                                activation
*                                registry
*                                server
                                                           | javax.lang.model

*                                                            element
*                                                            type
*                                                            util

| java.math                   | javax.rmi.ssl              | java.security.acl
| java.net                    | javax.sql                  | java.util.prefs
|                             | javax.transaction          | javax.annotation.processing
|                             | javax.transaction.xa       | java.lang.management
| java.nio

* channels
* channels.spi
* charset
* charset.spi
* file
* file.attribute
* file.spi
                              | javax.xml

*                                       datatype
*                                       namespace
*                                       parsers
*                                       stream
*                                       stream.events
*                                       stream.util
*                                       transform
*                                       transform.dom
*                                       transform.sax
*                                       transform.stax
*                                       transform.stream
*                                       validation
*                                       xpath
                                                           | javax.management

*                                                            loading
*                                                            modelbean
*                                                            monitor
*                                                            openmbean
*                                                            relation
*                                                            remote
*                                                            remote.rmi
*                                                            timer
| java.security

 * cert
 * interfaces
 * spec
                              |                            | javax.naming
 
 *                                                           directory
 *                                                           event
 *                                                           ldap
 *                                                           spi
| java.util

* concurrent
* concurrent.atomic
* concurrent.locks
* jar
* logging
* regex
* spi
* zip
                              | org.w3c.dom

*                               bootstrap
*                               events
*                               ls
                                                           | javax.xml.crypto

*                                                            crypto.dom
*                                                            crypto.dsig
*                                                            crypto.dsig.dom
*                                                            crypto.dsig.keyinfo
*                                                            crypto.dsig.spec

|                             |                            | javax.security.auth.kerberos
|                             |                            | javax.security.sasl
|                             |                            | javax.sql.rowset

*                                                            serial
*                                                            spi
|                             | org.xml.sax

*                               ext
*                               helpers
                                                           | javax.tools
| javax.crypto

* interfaces
* spec
                              |                            | org.ieft.jgss
| javax.net

* ssl
                              |                            | javax.script
| javax.security.auth

* auth.callback
* auth.login
* auth.spi
* auth.x500
* cert||
|===

== Java SE8 Compact Profil 1

https://www.youtube.com/watch?v=TCaBno_Euqk["démo OSGI^", window="_blank"]

video::TCaBno_Euqk[youtube]

== Nashorn

== les évolutions d'API

=== évolutions des annotations

=== l'API java.time

=== contrôle des processus de l'OS

* isAlive()
* waitFor(long timeout,TimeUnit unit)
* destroyForcibly()

  if (process.wait(MY_TIMEOUT, TimeUnit.MILLISECONDS)){
       //success! }
else {
    process.destroyForcibly();
}
  

=== les autres évolution diverse

* les Concurrent Adders
* Opérations Numériques Exactes
* Génération Aléatoire Sécurisée
* les tri en parallèle

  Array.sort(monTableau)

peut être remplacer par

  Array.parallelSort(monTableau)

[NOTE.speaker]
--
Adder concurrent qui permet de continué l'ajout même après un probème de contention
addExact(int x, int y) 
Math.xxxExact(<T> x,<T> y) throw ArithmeticException
--

== la programmation fonctionnelle

=== les Références Optionnelles (Optional)


=== les Interfaces fonctionnelles

=== les Lambdas

=== Les références a des méthodes

=== les Méthodes par dfaut

=== les méthodes stiques dans les interfaces

== Les Streams

== le Future
Quid de l’avenir ?

Java 9
* Jigsaw
* Precompilateur
* Value Object
A quand du Java sur Arduino
